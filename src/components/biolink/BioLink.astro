---
// BioLink component - Main component that combines profile, social links, and link buttons
import ProfileSection from './ProfileSection.astro';
import LinksList from './LinksList.astro';
import PopupModal from '../common/PopupModal.astro';
import ContactForm from './ContactForm.astro';
import Heading from './Heading.astro';

interface Props {
  profile: {
    name: string;
    title: string;
    description: string;
    avatar: string;
    backgroundColor?: string;
  };
  socialLinks: {
    platform: string;
    url: string;
    icon: string;
  }[];
  profileLinks: {
    title: string;
    url: string;
    icon?: string;
    modal?: string;
  }[];
  contactLinks: {
    title: string;
    url: string;
    icon?: string;
    modal?: string;
  }[];
  projectLinks: {
    title: string;
    url: string;
    icon?: string;
  }[];
}

const { profile, socialLinks, profileLinks, contactLinks, projectLinks } = Astro.props;
---

<div 
  class="w-full flex flex-col items-center py-8 bg-vhs-orange dark:bg-slate-900"
>
  <!-- Mobile: vertical stack, Desktop: bento grid -->
  <div class="w-full max-w-lg lg:max-w-6xl mx-auto p-4">
    <!-- Mobile layout: vertical stack -->
    <div class="lg:hidden space-y-8">
      <ProfileSection {...profile} socialLinks={socialLinks} profileLinks={profileLinks} />
      
      {contactLinks && contactLinks.length > 0 && (
        <div class="mt-8 neo-container p-4 bg-vhs-offwhite dark:bg-slate-800 text-vhs-darkgray dark:text-white">
          <Heading text="Connect with me" />
          <LinksList links={contactLinks} />
        </div>
      )}

      
      
      {projectLinks && projectLinks.length > 0 && (
        <div class="mt-8 neo-container p-4 bg-vhs-offwhite dark:bg-slate-800 text-vhs-darkgray dark:text-white">
          <Heading text="My Projects" />
          <LinksList links={projectLinks} />
        </div>
      )}
    </div>

    <!-- Desktop layout: bento grid -->
    <div class="hidden lg:grid lg:grid-cols-4 lg:grid-rows-auto lg:gap-6 bento-grid">
      <!-- Profile section - spans 2x3 (skinnier) -->
      <div class="lg:col-span-2 lg:row-span-3 bento-profile">
        <ProfileSection {...profile} socialLinks={socialLinks} profileLinks={profileLinks} />
      </div>
      
      <!-- Contact links - top right -->
      {contactLinks && contactLinks.length > 0 && (
        <div class="lg:col-span-2 lg:row-span-1 bento-contact neo-container p-4 bg-vhs-offwhite dark:bg-slate-800 text-vhs-darkgray dark:text-white overflow-y-auto">
          <Heading text="Connect with me" />
          <LinksList links={contactLinks} />
        </div>
      )}
      
      <!-- Projects - right side, spans 2 rows -->
      {projectLinks && projectLinks.length > 0 && (
        <div class="lg:col-span-2 lg:row-span-2 bento-projects neo-container p-4 bg-vhs-offwhite dark:bg-slate-800 text-vhs-darkgray dark:text-white overflow-y-auto">
          <Heading text="My Projects" />
          <LinksList links={projectLinks} />
        </div>
      )}
      
    </div>
  </div>
</div>

<!-- Contact Modal -->
<PopupModal id="contact" title="Get in Touch">
  <ContactForm />
</PopupModal> 